<section class="mx-5">
  <article
    class="grid md:grid-cols-2 md:grid-rows-[auto_auto] grid-cols-1 grid-rows--[auto_auto_auto] gap-5"
  >
    <!-- Imagen del producto -->
    <div
      class="w-full flex items-center justify-center relative border overflow-hidden border-neutral-300 dark:border-neutral-800"
    >
      <div
        class="absolute inset-0 bg-cover bg-center blur-lg z-0"
        [ngStyle]="{
          'background-image': 'url(' + productoDetalle?.imagenUrl + ')'
        }"
      ></div>
      <div
        class="max-w-[300px] w-full aspect-[3/4] relative shadow-lg shadow-gray-500 dark:shadow-zinc-950 overflow-hidden self-start"
      >
        <img
          [ngSrc]="productoDetalle?.imagenUrl || 'assets/default-image.png'"
          alt="{{ productoDetalle?.productoNombre }}"
          fill
          class="object-cover"
        />
      </div>
    </div>

    <div class="flex flex-col gap-5 md:justify-between">
      <div class="flex flex-col justify-center md:pb-5">
        <span
          class="inline-flex items-center rounded-md bg-green-500 px-2 py-1 !text-xs font-medium text-green-50 ring-1 ring-green-600/20 ring-inset w-fit uppercase mb-5"
          >{{ productoDetalle?.categoriaNombre }}</span
        >
        <h1 class="dark:text-gray-100 text-3xl font-bold text-black">
          {{ productoDetalle?.productoNombre }}
        </h1>
        <p class="dark:text-gray-300">
          ({{ productoDetalle?.cantidadStock }}) Disponibles
        </p>
      </div>

      <div class="flex gap-5">
        <div class="flex gap-2">
          <p class="text-4xl font-medium">
            S/. {{ productoDetalle?.precio | number : "1.2-2" }}
          </p>
        </div>
      </div>

      <ul class=" dark:text-gray-200 list-disc list-outside pl-5 text-justify">
        <li>Delivery en Lima Metropolitana y Callao.</li>
        <li>Envío de Plantas a domicilio para el mismo día.</li>
        <li>Producto Exclusivo de Reyno Verde.</li>
      </ul>

      <div class="flex gap-5 flex-wrap">
        <div class="flex gap-5 items-center font-bold">
          <h2 class="text-xl">Cantidad:</h2>
          <div class="flex items-center">
            <!-- Botón de menos -->
            <button
              type="button"
              (click)="decrementar()"
              
              class="px-4 py-2 font-bold shadow-md  text-black dark:text-gray-100 hover:bg-[#b3cece] bg-[#C1DCDC]  dark:bg-[#1A2B2B] dark:hover:bg-[#131d1d] transition cursor-pointer border border-neutral-300 dark:border-neutral-800"
            >
              −
            </button>

            <!-- Input de número -->
            <input
              type="number"
              min="0"
              [value]="cantidad()"
              (input)="cantidad.set(convertirANumero($event))"
              (keydown)="evitarCaracteres($event)"
              class="appearance-none [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none w-15 py-2 text-center bg-gray-100 text-black font-semibold shadow-md focus:outline-none border border-y-neutral-300 border-x-0 dark:border-neutral-800"
            />

            <!-- Botón de más -->
            <button
              type="button"
              (click)="incrementar()"
              class="px-4 py-2 font-bold shadow-md  text-black dark:text-gray-100 hover:bg-[#b3cece] bg-[#C1DCDC]  dark:bg-[#1A2B2B] dark:hover:bg-[#131d1d] transition cursor-pointer border border-neutral-300 dark:border-neutral-800"
            >
              +
            </button>
          </div>
        </div>

        <button
          class="px-4 py-2 text-black dark:text-gray-100 font-medium hover:bg-[#b3cece] bg-[#C1DCDC]  dark:bg-[#1A2B2B] dark:hover:bg-[#131d1d] transition cursor-pointer border border-neutral-300 dark:border-neutral-800 flex items-center justify-center gap-2 whitespace-nowrap flex-1 shadow-md"
          (click)="agregarCarrito()"
        >
          AÑADIR AL CARRITO
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="1em"
            height="1em"
            viewBox="0 0 24 24"
          >
            <path
              fill="currentColor"
              d="M17 18c-1.11 0-2 .89-2 2a2 2 0 0 0 2 2a2 2 0 0 0 2-2a2 2 0 0 0-2-2M1 2v2h2l3.6 7.59l-1.36 2.45c-.15.28-.24.61-.24.96a2 2 0 0 0 2 2h12v-2H7.42a.25.25 0 0 1-.25-.25q0-.075.03-.12L8.1 13h7.45c.75 0 1.41-.42 1.75-1.03l3.58-6.47c.07-.16.12-.33.12-.5a1 1 0 0 0-1-1H5.21l-.94-2M7 18c-1.11 0-2 .89-2 2a2 2 0 0 0 2 2a2 2 0 0 0 2-2a2 2 0 0 0-2-2"
            />
          </svg>
        </button>
      </div>
    </div>

    <!-- Detalle del producto -->
    <div class="flex flex-col md:col-span-2 md:row-start-2 text-justify">
      <section class="border border-neutral-300 dark:border-neutral-800">
        <div class="dark:bg-[#1A2B2B] py-2 px-5">
          <h2 class="font-bold text-xl">Descripción</h2>
        </div>

        <div class="p-5 flex flex-col gap-5">
          <p>{{ oraciones[0] }}</p>
          <div>
            <h3 class="font-bold text-lg! text-black dark:text-gray-100">
            Cuidados:
          </h3>
          <ul>
            @for(cuidado of datos.cuidados ; track datos.cuidados[idx]; let idx
            = $index){
            <li class="flex gap-2">
              <svg
                class="text-green-500 w-4 h-4 min-w-4 mt-1"
                xmlns="http://www.w3.org/2000/svg"
                width="1rem"
                height="1rem"
                viewBox="0 0 24 24"
              >
                <g
                  fill="none"
                  stroke="currentColor"
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  strokeWidth="2"
                >
                  <path d="M2 9a10 10 0 1 0 20 0" />
                  <path d="M12 19A10 10 0 0 1 22 9M2 9a10 10 0 0 1 10 10" />
                  <path
                    d="M12 4a9.7 9.7 0 0 1 2.99 7.5m-5.98 0A9.7 9.7 0 0 1 12 4"
                  />
                </g>
              </svg>
              {{ cuidado }}
            </li>
            }
          </ul>
          </div>

          <div>
            <h3 class="font-bold text-lg! text-black dark:text-gray-100 pt-3">
            Beneficios:
          </h3>
          <ul>
            @for(beneficio of datos.beneficios ; track datos.beneficios[idx];
            let idx = $index){
            <li class="flex gap-2">
              <svg
                class="text-green-500 w-4 h-4 min-w-4 mt-1"
                xmlns="http://www.w3.org/2000/svg"
                width="1rem"
                height="1rem"
                viewBox="0 0 24 24"
              >
                <g
                  fill="none"
                  stroke="currentColor"
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  strokeWidth="2"
                >
                  <path d="M2 9a10 10 0 1 0 20 0" />
                  <path d="M12 19A10 10 0 0 1 22 9M2 9a10 10 0 0 1 10 10" />
                  <path
                    d="M12 4a9.7 9.7 0 0 1 2.99 7.5m-5.98 0A9.7 9.7 0 0 1 12 4"
                  />
                </g>
              </svg>
              {{ beneficio }}
            </li>
            }
          </ul>
          </div>
        </div>
      </section>
    </div>
  </article>
</section>
